---
import SectionTitle from "../components/SectionTitle.astro";
import DonateCard from "../components/DonateCard.astro";

import type { Donation } from "../../payload-types";

const res = await fetch(`${import.meta.env.CMS_API_URL}/donations`);
const data = await res.json();
---

<section class="section-padding bg-gray-100">
  <SectionTitle title="Support Us" color="red" />
  <div class="cards-grid">
    {
      data.docs.map((item: Donation) => (
        <DonateCard
          headline={item.headline}
          goal={item.goal}
          description={item.description}
          img={item.image}
        />
      ))
    }
  </div>
</section>
