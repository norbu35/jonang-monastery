---
import { Image } from "astro:assets";

import logo from "../assets/icons/logo.svg";
import hamburgerMenu from "../assets/icons/hamburger-menu.svg";
---

<header
  id="header"
  class="opacity-1 fixed bottom-0 z-10 flex max-h-16 w-full items-center justify-between bg-white p-2 transition-all duration-500 ease-in-out motion-reduce:transition-none md:top-0 md:max-h-28 md:justify-evenly md:shadow-lg"
>
  <!-- Logo -->
  <div class="basis-3/4 md:basis-1/3">
    <a href="index.html" class="flex items-center justify-around"
      ><Image src={logo} alt="" height="50" /><div class="shrink-0">
        Jonang Monastery
      </div>
    </a>
  </div>
  <!-- Menu -->
  <div class="hidden font-quicksand font-semibold text-gray-600 md:block">
    <ul class="gap-2 md:flex lg:gap-8">
      <li>About Us</li>
      <li>News</li>
      <li>Events</li>
      <li>Visitor's Guide</li>
      <li>Support Us</li>
      <li>Contact</li>
    </ul>
  </div>
  <!-- Controls -->
  <div class="md:hidden">
    <button class="align-middle"><Image src={hamburgerMenu} alt="" /></button>
  </div>
</header>

<script>
  const header = document.querySelector("#header")!;

  let prevScrollPos = window.scrollY;
  window.addEventListener("scroll", () => {
    const currentScrollPos = window.scrollY;
    const scrollingUp = currentScrollPos < prevScrollPos;

    header.classList.toggle("hide", !scrollingUp);
    header.setAttribute("aria-hidden", scrollingUp ? "false" : "true");

    if (window.scrollY < 150) {
      // topNavBar.classList.remove("hide");
      // topNavBar.setAttribute("aria-hidden", "false");
      // bottomNavBar.classList.add("hide");
      // bottomNavBar.setAttribute("aria-hidden", "true");
    } else {
      // topNavBar.classList.add("hide");
      // topNavBar.setAttribute("aria-hidden", "true");
    }

    prevScrollPos = currentScrollPos;
  });
</script>
